<MyProgressBar>:
    size: root.width, root.height
    canvas.before:
        Color:
            rgba: 0.251, 0.259, 0.286, 1
        Rectangle:
            size: (self.width, self.height)
            pos: (self.x, self.y)
    canvas.after:
        Color:
            rgba: 0.71, 0.729, 0.757, 1
        Rectangle:
            id: blue_rect
            size: (self.width * root.set_value / 100, self.height)
            pos: (self.x, self.y)

<MyFloatLayout>:
    FloatLayout:
        # making size of layout the entire window
        id: float_layout
        size: root.width, root.height

        # start button
        Button:
            id: start_button
            size_hint: (0.25, 0.1)
            pos_hint: {'center_x': 0.5, 'top': 0.2}
            background_normal: 'ui_images/gray4.png'
            background_down: 'ui_images/gray2.png'
            text: "Start"
            color: 0.710, 0.729, 0.757, 1
            on_press: root.start_press()

        # Account Button
        Button:
            id: account_button
            size_hint: (0.25, 0.1)
            pos_hint: {'center_x': 0.8, 'top': 0.2}
            background_normal: 'ui_images/gray4.png'
            background_down: 'ui_images/gray2.png'
            text: "Change Account Credentials"
            color: 0.710, 0.729, 0.757, 1
            on_press: root.select_json_file()

        # stop button
        Button:
            id: stop_button
            size_hint: (0.25, 0.1)
            pos_hint: {'center_x': 0.2, 'top': 0.2}
            background_normal: 'ui_images/gray4.png'
            background_down: 'ui_images/gray2.png'
            text: "Stop"
            color: 0.710, 0.729, 0.757, 1
            on_press: root.stop_press()

        MyProgressBar:
            id: progress_bar_background
            size_hint: (0.43, 0.03)
            pos_hint: {'center_x': 0.5, 'top': 0.25}  # Moved up to allow more space below

        Label:
            id: percent_done_label
            pos_hint: {'center_x': 0.5, 'top': 0.28}  # Moved up
            size_hint: (0.43, 0.03)
            text: str(root.progress_bar_value) + '% Done'
            font_size: 24
            color: 1, 1, 1, 1

        Label:
            id: error_label
            pos_hint: {'center_x': 0.5, 'top': 0.9}  # Adjusted to move above the white box area
            size_hint: (0.8, 0.05)
            text: root.error_file
            font_size: 18
            color: 0.6, 0, 0, 1

        # Adding image
        Image:
            id: grade_key_image
            source: './src/ui_images/logo.png'
            pos_hint: {'center_x': 0.5, 'center_y': 0.6}
            size_hint: (0.4, 0.4)
            fit_mode: 'fill'

        # Text input for sheet ID
        TextInput:
            id: sheet_id_input
            size_hint: (0.25, 0.05)
            pos_hint: {'center_x': 0.3, 'top': 0.08}  # Moved slightly up
            hint_text: "Enter Sheet ID"
            multiline: False
            font_size: 18

        # Button to save sheet ID
        Button:
            id: save_sheet_button
            text: "Save Sheet ID"
            size_hint: (0.25, 0.05)
            pos_hint: {'center_x': 0.7, 'top': 0.08}  # Moved slightly up
            on_press: root.save_sheet_id()
